name: CI/CD Pipeline

on:
  push:
    branches: [ main, master ]
  pull_request:
    branches: [ main, master ]

jobs:
  test:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      
    - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.9'
        
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        
    - name: Run tests
      run: |
        python -c "
def play_quiz():
    print('üéÆ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –≤–∏–∫—Ç–æ—Ä–∏–Ω—É!')
    print('–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ 3 –≤–æ–ø—Ä–æ—Å–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ!\\n')
    
    score = 0
    
    # –í–æ–ø—Ä–æ—Å 1
    print('1. –°–∫–æ–ª—å–∫–æ –ø–ª–∞–Ω–µ—Ç –≤ –°–æ–ª–Ω–µ—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ?')
    print('–∞) 7')
    print('–±) 8')
    print('–≤) 9')
    
    # –í–æ–ø—Ä–æ—Å 2
    print('2. –ö–∞–∫–∞—è —Å–∞–º–∞—è –¥–ª–∏–Ω–Ω–∞—è —Ä–µ–∫–∞ –≤ –º–∏—Ä–µ?')
    print('–∞) –ê–º–∞–∑–æ–Ω–∫–∞')
    print('–±) –ù–∏–ª')
    print('–≤) –Ø–Ω—Ü–∑—ã')
    
    # –í–æ–ø—Ä–æ—Å 3
    print('3. –°—Ç–æ–ª–∏—Ü–∞ –ê–≤—Å—Ç—Ä–∞–ª–∏–∏?')
    print('–∞) –°–∏–¥–Ω–µ–π')
    print('–±) –ú–µ–ª—å–±—É—Ä–Ω')
    print('–≤) –ö–∞–Ω–±–µ—Ä—Ä–∞')
    
    print('‚úÖ –¢–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω! –í—Å–µ –≤–æ–ø—Ä–æ—Å—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.')
    return 3

result = play_quiz()
print(f'–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤–æ–∑–º–æ–∂–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: {result}')
        "

  deploy:
    runs-on: ubuntu-latest
    needs: test
    if: github.ref == 'refs/heads/main' || github.ref == 'refs/heads/master'
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      
    - name: Deploy simulation
      run: |
        echo "üöÄ –î–µ–ø–ª–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è..."
        echo "‚úÖ –î–µ–ø–ª–æ–π —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω!"
